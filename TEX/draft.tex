\documentclass[10pt, a4paper]{report}
\usepackage[utf8]{inputenc}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[table,xcdraw]{xcolor}
\usepackage{adjustbox,lipsum}
\usepackage{alltt} %for code snippets

\newcommand{\myparagraph}[1]{\paragraph{#1}\mbox{}\\} %used for better formating of some text

\setlength{\oddsidemargin}{0cm}
\setlength{\evensidemargin}{0cm}
\setlength{\textwidth}{500pt}

\title{Report on Certificate Tools}
\author{Oliver Bodn√°r}
\date{August 2016}

\begin{document}

\maketitle

\tableofcontents

\newpage

\part{Overview}

\chapter{Overview Tables}

\section{General}
%TABLE START
\begin{table}[h!]
\centering
\caption{Overwiew General}
\label{my-label}
\begin{adjustbox}{max width=\textwidth}
\begin{tabular}{|c|c|c|c|}
\hline
                        & \multicolumn{3}{c|}{General}                   \\ \cline{2-4} 
\multirow{-2}{*}{Tools} & Type   & View and information        & License \\ \hline
OpenSSL                 & PKCS12 & \cellcolor[HTML]{34FF34}Yes & Public  \\ \hline
Keygen                  & JKS    &                             &         \\ \hline
\end{tabular}
\end{adjustbox}
\end{table}
%TABLE END

\subsection{Type}
This section defines type of storage file in which the certificates or keys are saved. Most common are PKCS\#12 (.pfx and .p12 extentions) and JKS (Java KeyStore). 

\subsection{View and information}
This section shows whether it is possible to view certificates or keys and additional information. Yes means that at least viewing is supported while not necessary meaning possibility of viewing more information about certificate.

\subsection{License}
Type of license and possibility of using said tool for testing or production code. Public means that license is not requiered for use in production code but does not mean that it should be used as such. Definition if it is advised to use said tool in production code or only in testing enviroment will be talked about in the next chapter under each tool.


\newpage

\section{Generation and signing of certificates}

\subsection{Keys, certificates and basic constraints}
%TABLE START
\begin{table}[h!]
\centering
\caption{Generation of keys and certificates and basic constrints}
\begin{adjustbox}{max width=\textwidth}
\begin{tabular}{|c|c|c|c|c|c|c|}
\hline
                       & \multicolumn{4}{c|}{Generate keys}                                                                                                                             & \multicolumn{2}{c|}{Basic Constraints}                    \\ \cline{2-7} 
\multirow{-2}{*}{Tool} & \begin{tabular}[c]{@{}c@{}}+\\  self-signed certificate\end{tabular} & + CSR                       & Specify length              & Specify algorithm           & Specify Type                & Specify path length         \\ \hline
OpenSSL                & \cellcolor[HTML]{34FF34}Yes                                          & \cellcolor[HTML]{34FF34}Yes & \cellcolor[HTML]{34FF34}Yes & \cellcolor[HTML]{34FF34}Yes & \cellcolor[HTML]{34FF34}Yes & \cellcolor[HTML]{34FF34}Yes \\ \hline
Keygen                 &                                                                      &                             &                             &                             &                             &                             \\ \hline
\end{tabular}
\end{adjustbox}
\end{table}
%TABLE END

\subsubsection{Generate keys}

\paragraph{Self-signed certificate}
possibility of using 1 command to generate key pair and self-signed certificate

\paragraph{Certificate Signing Request}
possibility of using a command to generate key pair and certificate signing request to certificate authority.

\paragraph{Specify length}
possibility to specify the length of output key

\paragraph{Specify algorithm}
possibility to choose between different types of algorithms for key generation


\subsubsection{Basic Constraints}

\paragraph{Specify Type}
specify if generated certificate will belong to certificate authority or whether it will be end certificate

\paragraph{Specify path length}
specify the maximum length of certificate authority chain


\subsection{Specifications}

%TABLE START
\begin{table}[h!]
\centering
\caption{Specifications}
\label{my-label}
\begin{adjustbox}{max width=\textwidth}
\begin{tabular}{|c|c|c|c|c|c|}
\hline
                       &                               &                                          &                                                &                                            &                                                                             \\
\multirow{-2}{*}{Tool} & \multirow{-2}{*}{CSR signing} & \multirow{-2}{*}{Privkey + signed chain} & \multirow{-2}{*}{Specify certificate validity} & \multirow{-2}{*}{SAN for end certificates} & \multirow{-2}{*}{\begin{tabular}[c]{@{}c@{}}Support for\\ CSP\end{tabular}} \\ \hline
OpenSSL                & \cellcolor[HTML]{34FF34}Yes   & \cellcolor[HTML]{34FF34}Yes              & \cellcolor[HTML]{34FF34}Yes                    & \cellcolor[HTML]{34FF34}Yes                & \cellcolor[HTML]{34FF34}Yes                                                 \\ \hline
Keygen                 &                               &                                          &                                                &                                            &                                                                             \\ \hline
\end{tabular}
\end{adjustbox}
\end{table}
%TABLE END

\paragraph{Certificate Signing Request signing}
possibility of signing a certificate signing request with certificate authority's key

\paragraph{Create combination of private key and signed chain}
possibility of generating private key and chain signed by certificate authority that will be outputed to a single file

\paragraph{Specify certificate validity}
possibility of choosing how long will the certificate be valid. This should be done by certificate authority.

\paragraph{Setting Subject Alternative Name for end certificates}
possibility of choosing Subject Alternative Name for end certificates. That should be done by IP's or DNS addresses.

\paragraph{Support for Cryptographic Service Provider}
whether the use, choosing and changing of Cryptographic Service Provider is supported.


\section{Conversions}

%TABLE START
\begin{table}[h!]
\centering
\caption{Conversions}
\label{my-label}
\begin{adjustbox}{max width=\textwidth}
\begin{tabular}{|c|c|c|c|c|}
\hline
                        & \multicolumn{2}{c|}{Exporting}                                 &                                         &                                                                  \\ \cline{2-3}
\multirow{-2}{*}{Tools} & Certificate/chain only from file & Private key only            & \multirow{-2}{*}{Direct JKS and PKCS12} & \multirow{-2}{*}{Import certificate and private key into a file} \\ \hline
OpenSSL                 & \cellcolor[HTML]{34FF34}Yes      & \cellcolor[HTML]{34FF34}Yes & \cellcolor[HTML]{FF3A3A}No              & \cellcolor[HTML]{34FF34}Yes                                      \\ \hline
Keygen                  &                                  &                             &                                         &                                                                  \\ \hline
                        &                                  &                             &                                         &                                                                  \\ \hline
\end{tabular}
\end{adjustbox}
\end{table}
%TABLE END


\subsection{Exporting}

\subsubsection{Certificate or certificate chain from a file}
Possibility of extracting certificate or certificate only from a file. Choice of Yes based on possibility of extracting either from a file.

\subsubsection{Private key only}
Possibility of extracting private key from tool's file storage type of choice.

\subsection{Direct conversion between Java Keystore and PKCS\#12 file}
Possibility of direct conversion (by a command of tested tool) between Java KeyStore and PKCS\#12 type file.

\subsection{Importing of certificates and keys into storage files}
Possibility of importing (additional?) certificates and keys into storage files of said tool. Yes if it is possible to import or add another certificate or key into storage.


\newpage
%TOOLS PART
\part{Tools}

%OPENSSL text added by parts, need to check commands again
\chapter{OpenSSL}

\section{General}

  \subsection{Type}
  OpenSSL uses PKCS12 to store keys and or certificates. Certificates and keys  made in OpenSSL however are being made into PEM or DER encoded file. Said keys/certificates can then be stored inside single .pfx file. 
  
  \subsection{View and information}
  
\subsubsection{Viewing stored certificates}
\myparagraph{PEM encoded certificates (.pem$\vert$.cer$\vert$.crt):}

  \verb+openssl x509 -in sample_cert.extention -text -noout+

\myparagraph{DER encoded certificates (.der):}

  \verb+openssl x509 -in certificate.der -inform der -text -noout+

\myparagraph{Importing PEM or DER encoded keys or certificates into PKCS\#12 file:}

  \verb+openssl pkcs12 -export -in file.pem -out file.p12 -name "My Certificate" -certfile othercerts.pem+

certfile option is used only if importing more certificates into a single PKCS\#12 file is wanted.

  
  \subsection{License}
OpenSSL is free to use commercialy, however creating CA is not advised
a) OPENSSL O'REILY page 59 
b) hinted in manual pages.

The ca command is quirky and at times downright unfriendly.

The ca utility was originally meant as an example of how to do things in a CA . It was not supposed to be used as a full blown CA itself: nevertheless some people are using it for this purpose.

The ca command is effectively a single user command: no locking is done on the various files and attempts to run more than one ca command on the same database can have unpredictable results. 

  
\section{Generation and signing of certificates}

  \subsection{Keys, certificates and basic constraints}
  
    \subsubsection{Generate keys}
    
      \paragraph{Self-signed certificate}
      
      \paragraph{Certificate Signing Request}
      
      \paragraph{Specify length}
      
      \paragraph{Specify algorithm}
      
    \subsubsection{Basic constraints}
    
      \paragraph{Specify Type}
      
      \paragraph{Specify path length}
      
  \subsection{Specifications}
  
    \subsubsection{Certificate Signing Request signing}
    
    \subsubsection{Create combination of private key and signed chain}
    
    \subsubsection{Specify certificate validity}
    
    \subsubsection{Setting Subject Alternative Name for end certificates}
    
    \subsubsection{Support for Cryptographic Service Provider}
    
\section{Conversions}

  \subsection{Exporting}
  
    \subsubsection{Certificate or certificate chain from a file}
    
    \subsubsection{Private key only}
    
  \subsection{Direct conversion between Java Keystore and PKCS\#12 file}
  
  \subsection{Importing certificates and keys into storage files}
  


\chapter{Keygen}




%TEMPLATE FOR ALL OTHER TOOLS
\chapter{Tool Page Template}

\section{General}

  \subsection{Type}
  
  \subsection{View and information}
  
  \subsection{License}

  
\section{Generation and signing of certificates}

  \subsection{Keys, certificates and basic constraints}
  
    \subsubsection{Generate keys}
    
      \paragraph{Self-signed certificate}
      
      \paragraph{Certificate Signing Request}
      
      \paragraph{Specify length}
      
      \paragraph{Specify algorithm}
      
    \subsubsection{Basic constraints}
    
      \paragraph{Specify Type}
      
      \paragraph{Specify path length}
      
  \subsection{Specifications}
  
    \subsubsection{Certificate Signing Request signing}
    
    \subsubsection{Create combination of private key and signed chain}
    
    \subsubsection{Specify certificate validity}
    
    \subsubsection{Setting Subject Alternative Name for end certificates}
    
    \subsubsection{Support for Cryptographic Service Provider}
    
\section{Conversions}

  \subsection{Exporting}
  
    \subsubsection{Certificate or certificate chain from a file}
    
    \subsubsection{Private key only}
    
  \subsection{Direct conversion between Java Keystore and PKCS\#12 file}
  
  \subsection{Importing certificates and keys into storage files}
  


\end{document}
